try{var loc=window.location.href;if(loc.indexOf("dangdang.com")>-1){document.domain="dangdang.com"}if(loc.indexOf("globaldangdang.hk")>-1){document.domain="globaldangdang.hk"}}catch(err){}document.write('<link href="http://static.dangdang.com/css/win_login20150728.css?20170215" rel="stylesheet" type="text/css" />');var ifremHTML="<iframe id=MsgBoxFrame name=MsgBoxFrame  src='' scrolling=no  frameborder=0 scrolling=no allowtransparency=true style='width: 320px; height: 269px;'></iframe>";var login_checkscript_domin="login.dangdang.com";var show_vcode_domin="login.dangdang.com";var public_objid="";var public_posturl="";var regmobile_interobj;var DDLoginGlobalVar={email:"",request_from:2};var ddlogin={returnShopDuration:10,returnShopTime:0,regSucctimeoutrun:0,regMoblieCodetimeoutrun:0,lang_zh:{"1001":"\u767b\u5f55","1002":"\u8bf7\u60a8\u6253\u5f00\u6d4f\u89c8\u5668\u7684Cookie\u529f\u80fd\uff01","1101":"\u8bf7\u8f93\u5165\u90ae\u7bb1\u002f\u6635\u79f0\u002f\u624b\u673a\u53f7\u7801","1102":"\u7528\u6237\u540d\u6216\u5bc6\u7801\u8f93\u5165\u9519\u8bef\uff0c\u8bf7\u6838\u5bf9\u540e\u91cd\u65b0\u8f93\u5165\u3002","1103":'\u8be5\u7528\u6237\u540d\u4e0d\u5b58\u5728,<a href="javascript:ddlogin.showregister(1);">\u514d\u8d39\u6ce8\u518c</a>',"1104":"\u7528\u6237\u5c1a\u672a\u9a8c\u8bc1\uff0c\u8bf7\u9a8c\u8bc1\u540e\u767b\u5f55\uff01","1201":"\u8bf7\u586b\u5199\u957f\u5ea6\u4e3a\u0036\u002d\u0032\u0030\u4e2a\u5b57\u7b26\u7684\u5bc6\u7801","1202":"\u5bc6\u7801\u4e3a\u7a7a","1203":"\u8bf7\u8f93\u5165\u60a8\u7684\u767b\u5f55\u5bc6\u7801","1301":"\u8bf7\u586b\u5199\u56fe\u7247\u4e2d\u7684\u5b57\u7b26\uff0c\u4e0d\u533a\u5206\u5927\u5c0f\u5199","1302":"\u8bf7\u8f93\u5165\u56fe\u5f62\u9a8c\u8bc1\u7801","1303":"\u9a8c\u8bc1\u7801\u8f93\u5165\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u586b\u5199","1304":"\u4e3a\u4e86\u4f60\u7684\u8d26\u6237\u5b89\u5168\uff0c\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801","2101":"\u624b\u673a\u53f7\u53ef\u7528\u4e8e\u767b\u5f55\u3001\u627e\u56de\u5bc6\u7801\u3001\u63a5\u6536\u8ba2\u5355\u901a\u77e5\u7b49\u670d\u52a1","2102":"\u624b\u673a\u53f7\u7801\u4e0d\u80fd\u4e3a\u7a7a","2103":"\u624b\u673a\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165","2104":"\u8be5\u90ae\u7bb1\u5df2\u88ab\u6ce8\u518c\uff0c\u8bf7\u66f4\u6362\u5176\u5b83\u90ae\u7bb1\uff0c\u6216\u4f7f\u7528\u8be5\u0026\u006e\u0062\u0073\u0070\u003b<a href=\"javascript:ddlogin.showlogin('{#Email#}');\">\u90ae\u7bb1\u767b\u5f55</a>","2105":"\u6b64\u624b\u673a\u53f7\u5df2\u6ce8\u518c\uff0c\u8bf7\u66f4\u6362\u5176\u5b83\u624b\u673a\u53f7\uff0c\u6216\u4f7f\u7528\u8be5\u0026\u006e\u0062\u0073\u0070\u003b<a href=\"javascript:ddlogin.showlogin('{#phone#}');\">\u624b\u673a\u53f7\u767b\u5f55</a>","2111":"\u5bc6\u7801\u4e3a\u0036\u002d\u0032\u0030\u4e2a\u5b57\u7b26\uff0c\u53ef\u7531\u82f1\u6587\u3001\u6570\u5b57\u53ca\u7b26\u53f7\u7ec4\u6210","2112":"\u767b\u5f55\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a","2113":"\u5bc6\u7801\u957f\u5ea6\u0036\u002d\u0032\u0030\u4e2a\u5b57\u7b26\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165","2115":"\u5bc6\u7801\u4e0d\u80fd\u5305\u542b\u201c\u7a7a\u683c\u201d\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165","2116":"\u5bc6\u7801\u4e3a\u0036\u002d\u0032\u0030\u4f4d\u5b57\u7b26\u002c\u53ea\u80fd\u7531\u82f1\u6587\u3001\u6570\u5b57\u53ca\u7b26\u53f7\u7ec4\u6210","2121":"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801","2122":"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a","2123":"\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u81f4\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165","2131":"\u8bf7\u8f93\u5165\u4f60\u8981\u9a8c\u8bc1\u7684\u624b\u673a\u53f7\u7801","2132":"\u9a8c\u8bc1\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a","2133":"\u624b\u673a\u53f7\u7801\u683c\u5f0f\u6709\u8bef\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801","2141":"\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801","2142":"\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\uff0c\u8bf7\u6ce8\u610f\u67e5\u6536","2143":"\u60a8\u7684\u624b\u673a\u53f7\u7801\u83b7\u53d6\u9a8c\u8bc1\u7801\u8fc7\u4e8e\u9891\u7e41\uff0c\u8bf7\u4e8e\u0032\u0034\u5c0f\u65f6\u540e\u91cd\u8bd5","2144":"\u8fd8\u662f\u6ca1\u6709\u6536\u5230\u77ed\u4fe1\uff1f\u8bf7\u4e8e\u0032\u0034\u5c0f\u65f6\u540e\u91cd\u8bd5\uff0c\u6216\u66f4\u6362\u9a8c\u8bc1\u624b\u673a\u53f7\u7801","2145":"\u7f51\u7edc\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5","2146":"\u91cd\u65b0\u83b7\u53d6\u9a8c\u8bc1\u7801","2147":"\u5b8c\u6210\u9a8c\u8bc1\u540e\uff0c\u60a8\u53ef\u4ee5\u7528\u8be5\u624b\u673a\u767b\u5f55\u548c\u627e\u56de\u5bc6\u7801","2148":"\u9a8c\u8bc1\u7801\u9519\u8bef","2149":"\u60a8\u7684\u624b\u673a\u53f7\u7801\u83b7\u53d6\u9a8c\u8bc1\u7801\u8fc7\u4e8e\u9891\u7e41\uff0c\u8bf7\u0032\u5206\u949f\u540e\u91cd\u8bd5","2151":"\u60a8\u5fc5\u987b\u540c\u610f\u5f53\u5f53\u670d\u52a1\u6761\u6b3e\u540e\uff0c\u624d\u80fd\u63d0\u4ea4\u6ce8\u518c\u3002","2161":"\u8bf7\u586b\u5199\u56fe\u7247\u4e2d\u7684\u5b57\u7b26\uff0c\u4e0d\u533a\u5206\u5927\u5c0f\u5199","2162":"\u8bf7\u8f93\u5165\u56fe\u5f62\u9a8c\u8bc1\u7801","2163":"\u56fe\u5f62\u9a8c\u8bc1\u7801\u8f93\u5165\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165","2164":"\u56fe\u5f62\u9a8c\u8bc1\u7801\u5df2\u5931\u6548\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165","2171":"\u7f51\u7edc\u7e41\u5fd9\uff0c\u6ce8\u518c\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5","2172":'\u4e3a\u4e86\u4f60\u7684\u8d26\u6237\u5b89\u5168,\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801");'},reg:{"emailNameReg":/^(([a-zA-Z0-9]+\w*((\.\w+)|(-\w+))*[\.-]?[a-zA-Z0-9]+)|([a-zA-Z0-9]))$/,"emailReg":/^(([a-zA-Z0-9]+\w*((\.\w+)|(-\w+))*[\.-]?[a-zA-Z0-9]+)|([a-zA-Z0-9]))\@[a-zA-Z0-9]+((\.|-)[a-zA-Z0-9]+)*\.[a-zA-Z0-9]+$/,"mobileReg":/^1[3,4,5,7,8][0-9]{9}$/,"vcodeReg":/^[a-zA-Z0-9]*$/,"verifyCodeReg":/(\W{2}|\W{4}|\w{2}|\w{4})/},login_su_key:"",openchangepass:0,login_win:null,login_win_back:null,login_win_back_backcollor:"#FFF",login_win_back_alpha:10,login_vcode_url:"https://"+login_checkscript_domin+"/p/tmp_proxy.php",login_reg_vcode_url:"https://"+login_checkscript_domin+"/p/tmp_proxy.php",login_show_vcode:false,check_email_url:"https://"+login_checkscript_domin+"/p/email_checker.php",check_mobile_url:"https://"+login_checkscript_domin+"/p/mobile_checker.php",check_reg_vcode_url:"https://"+login_checkscript_domin+"/p/vcode_check_new.php",login_register_user_url:"https://"+login_checkscript_domin+"/p/register_user_ajax20150728.php",mobileregister_getvcode_url:"https://"+login_checkscript_domin+"/p/send_mobile_vcode.php",mobileregister_getvcode_url_new:"https://"+login_checkscript_domin+"/p/send_mobile_vcode_new.php",login_inintData_url:"https://"+login_checkscript_domin+"/CheckLogin.php",check_mobilecode_url:"https://"+login_checkscript_domin+"/p/check_mobilephone_vcode_window.php",login_cheat_proof:"https://"+login_checkscript_domin+"/p/mix_cheat_proof.php?source=windowLoginTop",register_cheat_proof:"https://"+login_checkscript_domin+"/p/mix_cheat_proof.php?source=windwRegisterTop",login_get_login_core:"https://"+login_checkscript_domin+"/login_core.php?",auth_human_id:"",windowbackhtml:'<div style="width: 100%; left: 0px; top: 0px; z-index: 99999; display: block; position: absolute; background-color:#000;filter:alpha(opacity = 0);opacity:0;zoom:1; " id="login_background"></div>',window_login_div_html:'<div  id="LoginWindow" style="position: absolute; z-index: 100000; margin-left: auto; top: 0; left: 0;display:none "></div>',windowloginhtml:'<div class="public_login_pop"><div class="head"><ul><li class="on">\u767b\u5f55</li><li><a id="window_tab_register">\u6ce8\u518c</a></li></ul><div class="close" id="LoginWindowclose" title="\u5173\u95ed"></div></div><div class="body"><div id="J_loginDiv"></div><div id="J_loginCheatProof" class="new_tip" style="display:none;"></div></div></div>',windowregisterhtml:'<div class="public_login_pop"><div class="head"><ul><li><a id="window_tab_login">\u767b\u5f55</a></li><li class="on">\u6ce8\u518c</li></ul><div class="close" id="LoginWindowclosereg" title="\u5173\u95ed"></div></div><div class="body" id="main_wind"><div id="J_registerCheatProof" class="new_tip" style="display:none;"></div><dl><dt>\u624b\u673a\u53f7\u7801\uff1a</dt><dd id="username_box"><input class="text" name="txtEmail" id="txtEmail" MaxLength="40" type="text" autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u60a8\u7684\u624b\u673a\u53f7\u7801" errordata="0" tabindex="1011"/><span class="icon_yes" id="chk_emailok"></span><span class="overview" id="Emailerrormassage"></span></dd><dt>\u767b\u5f55\u5bc6\u7801\uff1a</dt><dd id="password_box"><input class="text" name="txtRegPass" id="txtRegPass" type="password" onpaste="return false" ondrop="return ddlogin.regInput(event.dataTransfer.getData(\'Text\'))" errordata="0" tabindex="1012"/><span class="icon_yes" id="chk_passwordok"></span><span class="overview" id="passerrormassage"></span><div class="capslock_box" id="J_tipUpperCaseBox" style="display:none;">\u952e\u76d8\u5927\u5199\u9501\u5b9a\u5df2\u6253\u5f00\uff0c\u8bf7\u6ce8\u610f\u5927\u5c0f\u5199\u0021</div><span id="spnPwdStrongTips"><span id="spnPwdStrong1" class="overview j_pwdStrong" style="display: none;"><span class="msg_level"><span class="s1"></span><span></span><span></span></span>\u5bc6\u7801\u8fc7\u4e8e\u7b80\u5355</span><span id="spnPwdStrong2" class="overview j_pwdStrong" style="display: none;"><span class="msg_level"><span class="s1"></span><span class="s2"></span><span></span></span>\u8bd5\u8bd5\u5b57\u6bcd\u3001\u7b26\u53f7\u3001\u6570\u5b57\u7684\u7ec4\u5408\u66f4\u5b89\u5168</span><span id="spnPwdStrong3" class="overview j_pwdStrong" style="display: none;"><span class="msg_level"><span class="s1"></span><span class="s2"></span><span class="s3"></span></span>\u5bc6\u7801\u8bbe\u7f6e\u5b89\u5168\uff0c\u653e\u5fc3\u4f7f\u7528</span></span></dd><dt>\u786e\u8ba4\u5bc6\u7801\uff1a</dt><dd id="repassword_box"><input class="text" name="txtRepeatPass" id="txtRepeatPass" type="password" onpaste="return false" ondrop="return ddlogin.regInput(event.dataTransfer.getData(\'Text\'))"errordata="0" tabindex="1013"/><span class="icon_yes" id="chk_repassok"></span><span class="overview" id="repasserrormassage"></span></dd></dl><dl id="J_mobileV" style="display:none"><dt>\u624b\u673a\u9a8c\u8bc1\uff1a</dt><dd><input class="text" name="mobile" id="txt_mobile" type="text" placeholder="\u8bf7\u8f93\u5165\u4f60\u8981\u9a8c\u8bc1\u7684\u624b\u673a\u53f7\u7801" autocomplete="off" MaxLength="11" errordata="0" tabindex="1014"/><span class="icon_yes" id="chk_mobileok"></span><span class="overview" id="mobileerrormassage"></span></dd></dl><dl class="j-vcode"><dt>\u9a8c\u8bc1\u7801\uff1a</dt><dd><input class="text" id="txtVerifyCode" name="txtVerifyCode" type="text"  autocomplete="off" MaxLength="4" style="width:106px;" placeholder="\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801" tabindex="1015" errordata="0"/><a class="code_pic" id="vcodeImgWrap" href="javascript:void(0);"><img id="imgVcode" title="\u9a8c\u8bc1\u7801"></a><a class="code_picww" id="vcodeImgBtn" href="javascript:void(0);" tabindex="1016">\u6362\u5f20\u56fe</a><span class="icon_yes pin_i" id="chk_vcodeok"></span><span class="overview" id="vcodeerrormassage"></span></dd></dl><dl class="j-phoneVcode" style="display: none"><dt>\u77ed\u4fe1\u9a8c\u8bc1\u7801\uff1a</dt><dd><input class="text" id="J_MobileCode" name="txt_pop_sms_vcode" type="text"   autocomplete="off" MaxLength="6" style="width:106px;"                       placeholder="\u8bf7\u586b\u5199\u77ed\u4fe1\u9a8c\u8bc1\u7801"   errordata="0" tabindex="1015"/><a class="get_pin get_pinUnClick" id="J_countDownTip" href="javascript:void(0);" style="display: none;" tabindex="1016">\u0032\u5206\u949f\u540e\u91cd\u65b0\u83b7\u53d6</a><a class="get_pin" id="sendMobileCode" href="javascript:void(0);" tabindex="1016">\u83b7\u53d6\u77ed\u4fe1\u9a8c\u8bc1\u7801</a><span class="icon_yes" id="chk_mobilecodeok"></span><span class="overview" id="mobilecodeerrormassage"></span></dd></dl><div class="button_box"><div><label><input class="checkbox" id="chb_agreement" name="chb_agreement"  type="checkbox" checked="checked" onmouseover="this.style.cursor=\'pointer\';this.style.cursor=\'hand\';" tabindex="1017"/>\u6211\u5df2\u9605\u8bfb\u5e76\u540c\u610f<a href="http://help.dangdang.com/details/page12" target="_blank" tabindex="1018">\u300a\u5f53\u5f53\u4ea4\u6613\u6761\u6b3e\u300b</a>\u548c<a href="http://help.dangdang.com/details/page42" target="_blank" tabindex="1019">\u300a\u5f53\u5f53\u793e\u533a\u6761\u6b3e\u300b</a></label><span class="wrong" id="J_tipAgreement" style="display: block;height:20px;"></span></div><a class="btn_login_g" id="submit_register" tabindex="1020" href="javascript:;" style="margin-top:0;">\u6ce8\u518c</a><a class="btn_login_g" id="J_submitRegisterUnclick" tabindex="1020" href="javascript:;" style="display: none;margin-top:0;">\u6ce8\u518c\u4e2d\u002e\u002e\u002e</a></div></div></div>',windowregisteremailsuccesshtml:'<div class="success_box"><p><span class="icon_yes_b"></span><span class="f16">\u606d\u559c\u60a8\uff0c\u6ce8\u518c\u6210\u529f\uff01</span></p><table cellspacing="0" cellpadding="0" border="0" class="success_table"><tbody><tr id="emailWrap" style="display:none;"><th scope="row">\u90ae&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u7bb1</th><td>{#Email#}</td></tr><tr><th scope="row">\u624b\u673a\u53f7\u7801</th><td>{#Phone#}</td></tr></tbody></table><div class="button_box"><a class="btn_login_g" id="register_succes" href="javascript:;">\u7acb\u5373\u8d2d\u7269</a></div><p><span id="J_returnShopTip" style="color:#ff5400;">10</span>&nbsp;\u79d2\u540e\u81ea\u52a8\u8fd4\u56de\u002e\u002e\u002e</p></div>',loginCheatProof:'\u8d34\u5fc3\u63d0\u793a\uff1a\u7531\u4e8e\u8fd1\u671f\u7f51\u7edc\u90ae\u7bb1\u4fe1\u606f\u6cc4\u9732\u4e8b\u4ef6\u9891\u53d1\uff0c\u5efa\u8bae\u60a8\u52ff\u8bbe\u7f6e\u4e0e\u90ae\u7bb1\u5bc6\u7801\u76f8\u540c\u7684\u767b\u5f55\u548c\u652f\u4ed8\u5bc6\u7801\uff0c<a href="http://blog.dangdang.com/?p=22276">\u8c28\u9632\u8bc8\u9a97</a>\uff01',registerCheatProof:'\u8d34\u5fc3\u63d0\u793a\uff1a\u8bf7\u52ff\u8bbe\u7f6e\u4e0e\u90ae\u7bb1\u5bc6\u7801\u76f8\u540c\u7684\u8d26\u6237\u767b\u5f55\u5bc6\u7801\u6216\u652f\u4ed8\u5bc6\u7801\uff0c\u9632\u6b62\u4e0d\u6cd5\u5206\u5b50\u7a83\u53d6\u60a8\u7684\u5f53\u5f53\u8d26\u6237\u4fe1\u606f\uff0c<a href="http://blog.dangdang.com/?p=22276">\u8c28\u9632\u8bc8\u9a97</a>\uff01',init:function(back){this.check_jquery(back)},getIEVersion:function(){var ret=-1;if(navigator.userAgent.indexOf("MSIE 10.0")!=-1){return 10}else{if(navigator.userAgent.indexOf("MSIE 9.0")!=-1){return 9}else{if(navigator.userAgent.indexOf("MSIE 8.0")!=-1){return 8}else{if(navigator.userAgent.indexOf("MSIE 7.0")!=-1){return 7}else{if(navigator.userAgent.indexOf("MSIE 6.0")!=-1){return 6}}}}}return ret},create_Jquert:function(url,callback,temp_scriptname){var jq_script=document.getElementById(temp_scriptname);if(jq_script!=null&&document.all&&this.getIEVersion()!=9&&this.getIEVersion()!=10){jq_script.src=url;return}var head=document.documentElement.firstChild;var script=document.createElement("script");script.id=temp_scriptname;script.type="text/javascript";script.src=url;if(jq_script!=null){head.replaceChild(script,jq_script)}else{head.appendChild(script)}var cb=new callbackobj();cb.callbackfunction=callback;var done=false;script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){cb.callbackfunction();script.onload=script.onreadystatechange=null}}},check_jquery:function(back){if(typeof jQuery=="undefined"){this.create_Jquert("https://login.dangdang.com/script/jquery-1.4.2.min.js",function(){ddlogin.start(back)},"jquery_script");return}else{if(jQuery.fn.jquery.substr(0,1)<1||jQuery.fn.jquery.substr(2,1)<4){this.create_Jquert("https://login.dangdang.com/script/jquery-1.4.2.min.js",function(){ddlogin.start(back)},"jquery_script")}else{this.start(back)}}},load_jquery:function(fn){if(typeof jQuery=="undefined"){this.create_Jquert("https://login.dangdang.com/script/jquery-1.4.2.min.js",fn,"jquery_script");return}else{if(jQuery.fn.jquery.substr(0,1)<1||jQuery.fn.jquery.substr(2,1)<4){this.create_Jquert("https://login.dangdang.com/script/jquery-1.4.2.min.js",fn,"jquery_script")}else{fn()}}},start:function(back){jQuery(document.body).append(this.windowbackhtml+this.window_login_div_html);if(jQuery.browser.msie){jQuery("#login_background").css({background:ddlogin.login_win_back_backcollor,filter:"alpha(opacity="+ddlogin.login_win_back_alpha+")"})}else{jQuery("#login_background").css({background:ddlogin.login_win_back_backcollor,opacity:ddlogin.login_win_back_alpha/100})}jQuery("#login_background").height(jQuery(document.body).height());this.action.showwindow();Create_jQuery_extend();if(jQuery.browser.version<7){document.execCommand("BackgroundImageCache",false,true)}this.showlogin();this.bindfunc()},bindfunc:function(){this.login_win=jQuery("#LoginWindow");this.login_win_back=jQuery("#login_background");jQuery(window).resize(function(){if(ddlogin.login_win.is(":visible")){ddlogin.login_win.offset({top:parseInt((jQuery(window).height()-ddlogin.login_win.height())/2)+jQuery(document).scrollTop(),left:parseInt((jQuery(window).width()-ddlogin.login_win.width())/2)})}});jQuery("#LoginWindow").show()},showlogin:function(email){this.login_win=jQuery("#LoginWindow");this.login_win_back=jQuery("#login_background");this.login_win.html(this.windowloginhtml);var toppx=parseInt((jQuery(window).height()-ddlogin.login_win.height())/2)+jQuery(document).scrollTop();var leftpx=parseInt((jQuery(window).width()-ddlogin.login_win.width())/2);this.login_win.css({top:toppx-170,left:leftpx}).show();DDLoginGlobalVar.email=email?email:"";ddlogin.login.getLoginPan((email?email:""),public_objid,public_posturl,ddlogin.openchangepass);ddlogin.login.getCheatProof();jQuery("#window_tab_register").click(function(){ddlogin.showregister()});jQuery("#LoginWindowclose").click(function(){ddlogin.action.closeloginwin()})},login:{getLoginPan:function(email,objid,posturl,openchangepass){var url=ddlogin.login_get_login_core+"request_from=2"+"&email="+email+"&t="+new Date().getTime()+"&jsoncallback=?";jQuery.getScript(url)},getCheatProof:function(){jQuery.ajax({url:ddlogin.login_cheat_proof,cache:true,jsonp:"jsoncallback",dataType:"jsonp",success:function(data){var res=data.returnval;if(res){$cheatProofDiv=jQuery("#J_loginCheatProof");if(res.cheatProof_display==="block"&&res.cheatProof){$cheatProofDiv.css({"display":"block"});if(res.cheatProof.errorCode==="0"){$cheatProofDiv.html(res.cheatProof.res)}else{$cheatProofDiv.html(ddlogin.loginCheatProof)}}return true}else{return false}}})}},regInput:function(str){var reg=/^[\w-]*$/;return reg.test(str)},showregister:function(clsour){ddlogin.register.initGloabParam();if(clsour){var email=jQuery("#txtUsername").val()}jQuery("#LoginWindow").html(this.windowregisterhtml);ddlogin.register.getCheatProof();jQuery("#window_tab_login").click(function(){ddlogin.showlogin()});jQuery("#LoginWindowclosereg").click(function(){ddlogin.action.closeloginwin()});ddlogin.action.regShowVcodeFun("imgVcode");setTimeout(function(){jQuery("#txtEmail").focus();if(email!=""&&email){jQuery("#txtEmail").val(email);jQuery("#txtEmail").textposition(email.length)}},10);var $txtEmail=jQuery("#txtEmail");$txtEmail.bind("focus",function(){ddlogin.register.userNameReg.checkUsernameRegFocus()});$txtEmail.blur(function(){ddlogin.register.userNameReg.checkUsernameReg()});var $txtRegPass=jQuery("#txtRegPass");$txtRegPass.bind("focus",function(){ddlogin.register.passwordReg.checkPasswordRegFocus()});$txtRegPass.keyup(function(){ddlogin.register.passwordReg.checkPasswordRegInput()});$txtRegPass.blur(function(){ddlogin.register.passwordReg.checkPasswordReg()});$txtRegPass.keypress(function(e){ddlogin.register.passwordReg.checkCapslockOpen(e)});var $txtRepeatPass=jQuery("#txtRepeatPass");$txtRepeatPass.bind("focus",function(){ddlogin.register.rePasswordReg.checkRePasswordRegFocus()});$txtRepeatPass.blur(function(){ddlogin.register.rePasswordReg.checkRePasswordReg()});var $txtMobile=jQuery("#txt_mobile");$txtMobile.bind("focus",function(){ddlogin.register.mobileReg.checkMobileRegFocus()});$txtMobile.blur(function(){ddlogin.register.mobileReg.checkMobileReg()});jQuery("#vcodeImgWrap, #vcodeImgBtn").click(function(){ddlogin.action.regShowVcodeFun("imgVcode")});var $txtVerifyCode=jQuery("#txtVerifyCode");$txtVerifyCode.bind("focus",function(e){ddlogin.register.vcodeReg.checkVcodeRegFocus(e)});$txtVerifyCode.blur(function(e){ddlogin.register.vcodeReg.checkVcodeReg(e)});$txtVerifyCode.keyup(function(e){ddlogin.register.vcodeReg.checkVcodeReg(e)});jQuery("#sendMobileCode").bind("click",function(){ddlogin.register.mobileCodeBtn.sendMobileCodeFun()});var $txtMobileCode=jQuery("#J_MobileCode");$txtMobileCode.bind("focus",function(){ddlogin.register.mobileCodeReg.checkMobileCodeRegFocus()});$txtMobileCode.blur(function(){ddlogin.register.mobileCodeReg.checkMobileCodeReg()});jQuery("#chb_agreement").bind("click",function(){ddlogin.register.agreementReg.checkAgreementReg()});jQuery("#submit_register").bind("click",function(){ddlogin.register.tool.submitBtnAvailability("disable");ddlogin.register.check_register()})},register:{usernameIsOk:false,preUsernameIsEmail:false,nowUsernameIsEmail:false,passwordIsOk:false,rePasswordIsOk:false,mobileIsOk:false,vcodeIsOk:false,mobileCodeIsOk:false,agreementIsOk:true,isUpdateEmail:false,isUpdatePhone:false,oldUsername:"",oldMobile:"",getMoblieCodeInterval:120,miao:0,vcodeGenerateTiem:"",vcodeOvertimeInterval:10*60*1000,initGloabParam:function(){ddlogin.register.preUsernameIsEmail=false;ddlogin.register.nowUsernameIsEmail=false;ddlogin.register.isUpdateEmail=false;ddlogin.register.isUpdatePhone=false;ddlogin.register.oldUsername="";ddlogin.register.oldMobile="";ddlogin.register.usernameIsOk=false;ddlogin.register.passwordIsOk=false;ddlogin.register.rePasswordIsOk=false;ddlogin.register.mobileIsOk=false;ddlogin.register.vcodeIsOk=false;ddlogin.register.mobileCodeIsOk=false;ddlogin.register.agreementIsOk=true;clearTimeout(ddlogin.regMoblieCodetimeoutrun);clearTimeout(ddlogin.regSucctimeoutrun)},getCheatProof:function(){jQuery.ajax({url:ddlogin.register_cheat_proof,cache:true,jsonp:"jsoncallback",dataType:"jsonp",success:function(data){var res=data.returnval;if(res){$cheatProofDiv=jQuery("#J_registerCheatProof");if(res.cheatProof_display==="block"&&res.cheatProof){$cheatProofDiv.css({"display":"block"});if(res.cheatProof.errorCode==="0"){$cheatProofDiv.html(res.cheatProof.res)}else{$cheatProofDiv.html(ddlogin.registerCheatProof)}}return true}else{return false}}})},tool:{switchInputStyle:function(showType,inputId,chkOkId,tipWrapId){if(showType=="normal"){jQuery("#"+inputId).removeClass("error");jQuery("#"+chkOkId).hide();jQuery("#"+tipWrapId).removeClass("wrong").html("").css({"display":"block"})}else{if(showType=="ok"){jQuery("#"+inputId).removeClass("error");jQuery("#"+chkOkId).removeClass("icon_wrong").addClass("icon_yes").css({"display":"inline-block"});jQuery("#"+tipWrapId).removeClass("wrong").css({"display":"block"})}else{if(showType=="error"){jQuery("#"+inputId).addClass("error");jQuery("#"+chkOkId).removeClass("icon_yes").addClass("icon_wrong").css({"display":"inline-block"});jQuery("#"+tipWrapId).addClass("wrong").css({"display":"block"})}}}},switchVcodeArea:function(showType){if(showType==="vcode"){if(jQuery(".j-phoneVcode").is(":visible")){jQuery(".j-phoneVcode").hide();ddlogin.action.regShowVcodeFun("imgVcode");jQuery(".j-vcode").fadeIn(800);jQuery("#J_MobileCode").val("");ddlogin.register.mobileCodeIsOk=false;ddlogin.register.tool.switchInputStyle("normal","J_MobileCode","chk_mobilecodeok","mobilecodeerrormassage");clearTimeout(ddlogin.regMoblieCodetimeoutrun);jQuery("#sendMobileCode").show();jQuery("#J_countDownTip").hide()}else{ddlogin.action.regShowVcodeFun("imgVcode")}}else{if(showType==="phoneVcode"){if(jQuery(".j-vcode").is(":visible")){jQuery(".j-vcode").hide();jQuery(".j-phoneVcode").fadeIn(800);ddlogin.register.tool.switchInputStyle("normal","txtVerifyCode","chk_vcodeok","vcodeerrormassage")}}}},hideMobile:function(){ddlogin.register.mobileIsOk=false;jQuery("#J_mobileV").hide();jQuery("#txt_mobile").val("");ddlogin.register.tool.switchInputStyle("normal","txt_mobile","chk_mobileok","mobileerrormassage")},showMobileAndUpdateVcode:function(){if(ddlogin.register.nowUsernameIsEmail&&ddlogin.register.preUsernameIsEmail!=ddlogin.register.nowUsernameIsEmail){jQuery("#J_mobileV").show()}else{if(!ddlogin.register.nowUsernameIsEmail&&ddlogin.register.preUsernameIsEmail!=ddlogin.register.nowUsernameIsEmail){ddlogin.register.tool.hideMobile()}}var vcode=jQuery.trim(jQuery("#txtVerifyCode").val());if(vcode!=""&&ddlogin.register.isUpdateEmail){if(!ddlogin.register.nowUsernameIsEmail||ddlogin.register.nowUsernameIsEmail!=ddlogin.register.preUsernameIsEmail){ddlogin.register.tool.switchVcodeArea("vcode")}}else{if(vcode!=""&&ddlogin.register.isUpdatePhone){ddlogin.register.tool.switchVcodeArea("vcode")}}ddlogin.register.isUpdateEmail=false;ddlogin.register.isUpdatePhone=false;ddlogin.register.preUsernameIsEmail=ddlogin.register.nowUsernameIsEmail;return true},isFunc:function(funcName){return typeof funcName=="function"},submitBtnAvailability:function(type){if(type=="disable"){jQuery("#J_submitRegisterUnclick").show();jQuery("#submit_register").hide()}else{jQuery("#J_submitRegisterUnclick").hide();jQuery("#submit_register").show()}}},userNameReg:{checkUsernameRegFocus:function(){ddlogin.register.tool.switchInputStyle("normal","txtEmail","chk_emailok","Emailerrormassage");jQuery("#Emailerrormassage").html(ddlogin.lang_zh["2101"])},checkUsernameReg:function(){ddlogin.register.usernameIsOk=false;ddlogin.register.nowUsernameIsEmail=false;var usernameExist=false;var username=jQuery.trim(jQuery("#txtEmail").val());if(ddlogin.register.oldUsername!=username){ddlogin.register.isUpdateEmail=true;ddlogin.register.oldUsername=username}ddlogin.register.tool.switchInputStyle("normal","txtEmail","chk_emailok","Emailerrormassage");if(username==""){ddlogin.register.tool.showMobileAndUpdateVcode();return false}if(0){if(username.length>40||!ddlogin.reg.emailReg.test(username)){ddlogin.register.tool.switchInputStyle("error","txtEmail","chk_emailok","Emailerrormassage");jQuery("#Emailerrormassage").html(ddlogin.lang_zh["2103"]);ddlogin.register.tool.showMobileAndUpdateVcode();return false}if(/[ ]/.test(username)){ddlogin.register.tool.switchInputStyle("error","txtEmail","chk_emailok","Emailerrormassage");jQuery("#Emailerrormassage").html(ddlogin.lang_zh["2103"]);ddlogin.register.tool.showMobileAndUpdateVcode();return false}jQuery.ajax({url:ddlogin.check_email_url,data:"email="+username,cache:false,async:false,jsonp:"jsoncallback",dataType:"jsonp",success:function(data){if(data.returnval){ddlogin.register.tool.switchInputStyle("error","txtEmail","chk_emailok","Emailerrormassage");jQuery("#Emailerrormassage").html(ddlogin.lang_zh["2104"].replace("{#Email#}",username));jQuery("#txtEmail").attr("errordata","1");ddlogin.register.tool.showMobileAndUpdateVcode();return false}else{ddlogin.register.tool.switchInputStyle("ok","txtEmail","chk_emailok","Emailerrormassage");jQuery("#Emailerrormassage").html("");jQuery("#txtEmail").attr("errordata","0");ddlogin.register.usernameIsOk=true;ddlogin.register.nowUsernameIsEmail=true;ddlogin.register.tool.showMobileAndUpdateVcode();return true}}})}else{if(!ddlogin.reg.mobileReg.test(username)){ddlogin.register.tool.switchInputStyle("error","txtEmail","chk_emailok","Emailerrormassage");jQuery("#Emailerrormassage").html(ddlogin.lang_zh["2103"]);jQuery("#txtEmail").attr("errordata","1");ddlogin.register.tool.showMobileAndUpdateVcode();return false}jQuery.ajax({url:ddlogin.check_mobile_url,cache:false,async:false,data:"mobile="+username,jsonp:"jsoncallback",dataType:"jsonp",success:function(data){if(data.returnval){ddlogin.register.tool.switchInputStyle("error","txtEmail","chk_emailok","Emailerrormassage");jQuery("#Emailerrormassage").html(ddlogin.lang_zh["2105"].replace("{#phone#}",username));jQuery("#txtEmail").attr("errordata","1");ddlogin.register.tool.showMobileAndUpdateVcode();return false}else{ddlogin.register.tool.switchInputStyle("ok","txtEmail","chk_emailok","Emailerrormassage");jQuery("#Emailerrormassage").html("");jQuery("#txtEmail").attr("errordata","0");ddlogin.register.usernameIsOk=true;ddlogin.register.tool.showMobileAndUpdateVcode();return true}}})}}},passwordReg:{checkPasswordRegFocus:function(){ddlogin.register.tool.switchInputStyle("normal","txtRegPass","chk_passwordok","passerrormassage");jQuery("#passerrormassage").html(ddlogin.lang_zh["2111"]);jQuery("#J_tipUpperCaseBox").hide();jQuery("#spnPwdStrongTips").hide();jQuery("#txtRegPass").attr("errordata","0")},checkPasswordRegInput:function(){if(jQuery("#J_tipUpperCaseBox").is(":hidden")){ddlogin.register.tool.switchInputStyle("normal","txtRegPass","chk_passwordok","passerrormassage");jQuery("#passerrormassage").hide();jQuery("#spnPwdStrongTips").hide();var passwordTrim=jQuery("#txtRegPass").val();if(passwordTrim.length==0){jQuery("#passerrormassage").html(ddlogin.lang_zh["2111"]);return false}if(passwordTrim.length<6){jQuery("#spnPwdStrongTips").show();jQuery(".j_pwdStrong").hide();jQuery("#spnPwdStrong1").css({"display":"block"});return false}if(passwordTrim.length>20){ddlogin.register.tool.switchInputStyle("error","txtRegPass","chk_passwordok","passerrormassage");jQuery("#passerrormassage").html(ddlogin.lang_zh["2113"]).show();return false}var chenum=ddlogin.register.passwordReg.checkStrong();if(chenum==0){return false}else{if(chenum==1){jQuery(".j_pwdStrong").hide();jQuery("#spnPwdStrong1").css({"display":"block"})}else{if(chenum==2){jQuery(".j_pwdStrong").hide();jQuery("#spnPwdStrong2").css({"display":"block"})}else{if(chenum>=3){jQuery(".j_pwdStrong").hide();jQuery("#spnPwdStrong3").css({"display":"block"})}}}}jQuery("#spnPwdStrongTips").show();jQuery("#chk_passwordok").removeClass("icon_wrong").addClass("icon_yes").css({"display":"inline-block"});return true}},checkPasswordReg:function(){ddlogin.register.tool.switchInputStyle("normal","txtRegPass","chk_passwordok","passerrormassage");jQuery("#spnPwdStrongTips").hide();jQuery("#J_tipUpperCaseBox").hide();jQuery("#passerrormassage").show();ddlogin.register.passwordIsOk=false;ddlogin.reg_chk_pass_bool=false;var password=jQuery("#txtRegPass").val();if(password==""){return false}if(password.length<6||password.length>20){ddlogin.register.tool.switchInputStyle("error","txtRegPass","chk_passwordok","passerrormassage");jQuery("#passerrormassage").html(ddlogin.lang_zh["2113"]);jQuery("#txtRegPass").attr("errordata","1");return false}if(!/^\S{1,20}$/.test(password)){ddlogin.register.tool.switchInputStyle("error","txtRegPass","chk_passwordok","passerrormassage");jQuery("#passerrormassage").html(ddlogin.lang_zh["2115"]);jQuery("#txtRegPass").attr("errordata","1");return false}for(var i=0;i<password.length;i++){if(password.charCodeAt(i)>127){ddlogin.register.tool.switchInputStyle("error","txtRegPass","chk_passwordok","passerrormassage");jQuery("#passerrormassage").html(ddlogin.lang_zh["2116"]);jQuery("#txtRegPass").attr("errordata","1");return false}}if(!ddlogin.register.passwordReg.checkPasswordRegInput()){return false}ddlogin.register.passwordIsOk=true;ddlogin.register.rePasswordReg.checkRePasswordReg();return true},checkCapslockOpen:function(e){var e=window.event||e;var n=e.keyCode||e.which;var m=e.shiftKey||(n==16)||false;if(((n>=65&&n<=90)&&!m)||((n>=97&&n<=122)&&m)){jQuery("#spnPwdStrongTips").hide();jQuery("#passerrormassage").hide();jQuery("#J_tipUpperCaseBox").show()}else{if(n>=97&&n<=122&&!m){jQuery("#J_tipUpperCaseBox").hide()}else{if(n==27){jQuery("#J_tipUpperCaseBox").hide()}else{jQuery("#J_tipUpperCaseBox").hide()}}}},checkStrong:function(){var sPW=jQuery("#txtRegPass").val();if(sPW.length<1){return 0}var Modes=0;for(i=0;i<sPW.length;i++){Modes|=ddlogin.register.passwordReg.evaluate(sPW.charCodeAt(i))}var num=ddlogin.register.passwordReg.bitTotal(Modes);return num},evaluate:function(character){if(character>=48&&character<=57){return 1}if(character>=65&&character<=90){return 2}if(character>=97&&character<=122){return 4}if(character<=127){return 8}},bitTotal:function(num){var modes=0;for(i=0;i<4;i++){if(num&1){modes++}num>>>=1}return modes}},rePasswordReg:{checkRePasswordRegFocus:function(){ddlogin.register.tool.switchInputStyle("normal","txtRepeatPass","chk_repassok","repasserrormassage");jQuery("#repasserrormassage").html(ddlogin.lang_zh["2121"]);jQuery("#txtRepeatPass").attr("errordata","0")},checkRePasswordReg:function(){ddlogin.register.tool.switchInputStyle("normal","txtRepeatPass","chk_repassok","repasserrormassage");ddlogin.register.rePasswordIsOk=false;var passsword=jQuery("#txtRegPass").val();var rep_password=jQuery("#txtRepeatPass").val();if(rep_password==""){return false}if(rep_password!=passsword){ddlogin.register.tool.switchInputStyle("error","txtRepeatPass","chk_repassok","repasserrormassage");jQuery("#repasserrormassage").html(ddlogin.lang_zh["2123"]);jQuery("#txtRepeatPass").attr("errordata","1");return false}jQuery("#chk_repassok").removeClass("icon_wrong").addClass("icon_yes").css({"display":"inline-block"});ddlogin.register.rePasswordIsOk=true;return true}},mobileReg:{checkMobileRegFocus:function(){ddlogin.register.tool.switchInputStyle("normal","txt_mobile","chk_mobileok","mobileerrormassage");jQuery("#mobileerrormassage").html(ddlogin.lang_zh["2131"])},checkMobileReg:function(){ddlogin.register.tool.switchInputStyle("normal","txt_mobile","chk_mobileok","mobileerrormassage");ddlogin.register.mobileIsOk=false;var mobile=jQuery.trim(jQuery("#txt_mobile").val());if(ddlogin.register.oldMobile!=mobile){ddlogin.register.isUpdatePhone=true;ddlogin.register.oldMobile=mobile}if(mobile==""){ddlogin.register.tool.showMobileAndUpdateVcode();return false}if(!ddlogin.reg.mobileReg.test(mobile)){ddlogin.register.tool.switchInputStyle("error","txt_mobile","chk_mobileok","mobileerrormassage");jQuery("#mobileerrormassage").html(ddlogin.lang_zh["2133"]);ddlogin.register.tool.showMobileAndUpdateVcode();return false}jQuery.ajax({url:ddlogin.check_mobile_url,cache:false,async:false,data:"mobile="+mobile,jsonp:"jsoncallback",dataType:"jsonp",success:function(data){if(data.returnval){ddlogin.register.tool.switchInputStyle("error","txt_mobile","chk_mobileok","mobileerrormassage");jQuery("#mobileerrormassage").html(ddlogin.lang_zh["2105"].replace("{#phone#}",mobile));jQuery("#txt_mobile").attr("errordata","1");ddlogin.register.tool.showMobileAndUpdateVcode();return false}else{ddlogin.register.tool.switchInputStyle("ok","txt_mobile","chk_mobileok","mobileerrormassage");jQuery("#mobileerrormassage").html("");jQuery("#txt_mobile").attr("errordata","0");ddlogin.register.mobileIsOk=true;ddlogin.register.tool.showMobileAndUpdateVcode();return true}}})}},vcodeReg:{checkVcodeRegFocus:function(){ddlogin.register.tool.switchInputStyle("normal","txtVerifyCode","chk_vcodeok","vcodeerrormassage");jQuery("#vcodeerrormassage").html(ddlogin.lang_zh["2161"])},checkVcodeReg:function(e){if(jQuery(".j-vcode").is(":visible")){ddlogin.register.vcodeIsOk=false;ddlogin.register.tool.switchInputStyle("normal","txtVerifyCode","chk_vcodeok","vcodeerrormassage");var txtVcode=jQuery.trim(jQuery("#txtVerifyCode").val());var txtVcodeLen=txtVcode.length;if(ddlogin.reg.vcodeReg.test(txtVcode)){if(txtVcodeLen==4){if(!ddlogin.register.vcodeReg.checkVcodeRegOvertime()){ddlogin.register.tool.switchInputStyle("error","txtVerifyCode","chk_vcodeok","vcodeerrormassage");jQuery("#vcodeerrormassage").html(ddlogin.lang_zh["2164"]);return false}ddlogin.register.vcodeReg.checkVcodeRegIsOk(txtVcode)}}else{ddlogin.register.tool.switchInputStyle("error","txtVerifyCode","chk_vcodeok","vcodeerrormassage");jQuery("#vcodeerrormassage").html(ddlogin.lang_zh["2163"]);return false}}},checkVcodeRegIsOk:function(vcode){jQuery.ajax({url:ddlogin.check_reg_vcode_url,data:"vcode="+escape(vcode)+"&type=0",jsonp:"jsoncallback",dataType:"jsonp",success:function(data){if(data.returnval){ddlogin.register.tool.switchInputStyle("ok","txtVerifyCode","chk_vcodeok","vcodeerrormassage");ddlogin.register.vcodeIsOk=true;if(jQuery("#J_mobileV").is(":visible")){if(!ddlogin.register.mobileIsOk){return false}}else{if(!ddlogin.register.usernameIsOk){return false}}ddlogin.register.mobileCodeBtn.sendMobileCodeFun();return true}else{ddlogin.register.tool.switchInputStyle("error","txtVerifyCode","chk_vcodeok","vcodeerrormassage");jQuery("#vcodeerrormassage").html(ddlogin.lang_zh["2163"]);return false}}})},checkVcodeRegOvertime:function(){var nowTime=new Date().getTime();if((nowTime-ddlogin.register.vcodeGenerateTiem)>ddlogin.register.vcodeOvertimeInterval){ddlogin.action.regShowVcodeFun("imgVcode");return false}else{return true}}},mobileCodeBtn:{checkEnableGetMobileCode:function(){jQuery("#mobilecodeerrormassage").removeClass("wrong").html("");if(jQuery("#J_mobileV").is(":visible")){if(jQuery.trim(jQuery("#txt_mobile").val())==""){ddlogin.register.tool.switchInputStyle("error","txt_mobile","chk_mobileok","mobileerrormassage");jQuery("#mobileerrormassage").html(ddlogin.lang_zh["2132"]);return false}if(!ddlogin.register.mobileReg.checkMobileReg()){return false}}else{if(jQuery.trim(jQuery("#txtEmail").val())==""){ddlogin.register.tool.switchInputStyle("error","txtEmail","chk_emailok","Emailerrormassage");jQuery("#Emailerrormassage").html(ddlogin.lang_zh["2102"]);return false}if(!ddlogin.register.userNameReg.checkUsernameReg()){return false}}return true},sendMobileCodeFun:function(){var mobile_phone="";var txtVcode=jQuery("#txtVerifyCode").val();if(jQuery("#J_mobileV").is(":visible")){mobile_phone=jQuery.trim(jQuery("#txt_mobile").val())}else{mobile_phone=jQuery.trim(jQuery("#txtEmail").val())}var custid=0;var verify_type=5;var send_flg=false;jQuery.ajax({url:ddlogin.mobileregister_getvcode_url_new,data:"custid="+custid+"&vcode="+txtVcode+"&type=0&mobile_phone="+mobile_phone+"&verify_type="+verify_type,cache:false,jsonp:"jsoncallback",dataType:"jsonp",success:function(data){var sms_vcode=data.returnval;if(sms_vcode=="-10"||sms_vcode=="-11"||sms_vcode=="-12"){ddlogin.register.tool.switchVcodeArea("vcode");ddlogin.register.tool.switchInputStyle("error","txtVerifyCode","chk_vcodeok","vcodeerrormassage");jQuery("#vcodeerrormassage").html(ddlogin.lang_zh["2164"]);return false}else{ddlogin.register.tool.switchVcodeArea("phoneVcode");jQuery("#mobilecodeerrormassage").css({"display":"block"});if(sms_vcode=="0"){ddlogin.register.miao=ddlogin.register.getMoblieCodeInterval;changejishi();jQuery("#J_MobileCode").val("");jQuery("#J_MobileCode").focus();jQuery("#mobilecodeerrormassage").removeClass("wrong").html(ddlogin.lang_zh["2142"]);return true}else{if(sms_vcode=="-2"){jQuery("#mobilecodeerrormassage").addClass("wrong").html(ddlogin.lang_zh["2143"]);jQuery("#sendMobileCode").hide();jQuery("#J_countDownTip").html(ddlogin.lang_zh["2146"]).show();return false}else{if(sms_vcode=="-4"||sms_vcode=="-5"||sms_vcode=="-8"){jQuery("#mobilecodeerrormassage").addClass("wrong").html(ddlogin.lang_zh["2145"]);return false}else{if(sms_vcode=="-7"){jQuery("#mobilecodeerrormassage").addClass("wrong").html(ddlogin.lang_zh["2149"]);return false}else{jQuery("#mobilecodeerrormassage").addClass("wrong").html(ddlogin.lang_zh["2144"]);return false}}}}}}})}},mobileCodeReg:{checkMobileCodeRegFocus:function(){ddlogin.register.tool.switchInputStyle("normal","J_MobileCode","chk_mobilecodeok","mobilecodeerrormassage");jQuery("#mobilecodeerrormassage").html(ddlogin.lang_zh["2141"])},checkMobileCodeReg:function(){ddlogin.register.tool.switchInputStyle("normal","J_MobileCode","chk_mobilecodeok","mobilecodeerrormassage");ddlogin.register.mobileCodeIsOk=false;var mobile=jQuery.trim(jQuery("#txt_mobile").val());var usernameTrim=jQuery.trim(jQuery("#txtEmail").val());var mobilePhone="";var pop_sms_vcode=jQuery.trim(jQuery("#J_MobileCode").val());if(pop_sms_vcode==""){return false}if(pop_sms_vcode.length!=6){ddlogin.register.tool.switchInputStyle("error","J_MobileCode","chk_mobilecodeok","mobilecodeerrormassage");jQuery("#mobilecodeerrormassage").html(ddlogin.lang_zh["2148"]);return false}if(jQuery("#J_mobileV").is(":visible")){mobilePhone=mobile}else{if(ddlogin.register.usernameIsOk){mobilePhone=usernameTrim}}var verify_type=5;var type=0;jQuery.ajax({url:ddlogin.check_mobilecode_url,cache:false,data:"mobile_phone="+mobilePhone+"&verify_type="+verify_type+"&sms_vcode="+pop_sms_vcode+"&type="+type,jsonp:"jsoncallback",dataType:"jsonp",success:function(data){if(data.returnval){ddlogin.register.tool.switchInputStyle("ok","J_MobileCode","chk_mobilecodeok","mobilecodeerrormassage");ddlogin.register.mobileCodeIsOk=true;return true}else{ddlogin.register.tool.switchInputStyle("error","J_MobileCode","chk_mobilecodeok","mobilecodeerrormassage");jQuery("#mobilecodeerrormassage").html(ddlogin.lang_zh["2148"]);return false}}})}},agreementReg:{checkAgreementReg:function(){if(jQuery("#chb_agreement").attr("checked")||"checked"==jQuery("#chb_agreement").attr("checked")){jQuery("#J_tipAgreement").html("");ddlogin.register.agreementIsOk=true;return true}else{jQuery("#J_tipAgreement").html(ddlogin.lang_zh["2151"]);ddlogin.register.agreementIsOk=false;return false}}},check_register:function(){var usernameTrim=jQuery.trim(jQuery("#txtEmail").val());var passwordTrim=jQuery.trim(jQuery("#txtRegPass").val());var repasswordTrim=jQuery.trim(jQuery("#txtRepeatPass").val());var mobile=jQuery.trim(jQuery("#txt_mobile").val());var vcode=jQuery.trim(jQuery("#txtVerifyCode").val());var mobileCode=jQuery.trim(jQuery("#J_MobileCode").val());var mobilePhone="";if(usernameTrim==""||passwordTrim==""||repasswordTrim==""||vcode==""||(jQuery("#J_mobileV").is(":visible")&&mobile=="")||(jQuery(".j-phoneVcode").is(":visible")&&mobileCode=="")){if(usernameTrim==""){ddlogin.register.tool.switchInputStyle("error","txtEmail","chk_emailok","Emailerrormassage");jQuery("#Emailerrormassage").html(ddlogin.lang_zh["2102"])}if(passwordTrim==""){ddlogin.register.tool.switchInputStyle("error","txtRegPass","chk_passwordok","passerrormassage");jQuery("#passerrormassage").html(ddlogin.lang_zh["2112"]);jQuery("#J_tipUpperCaseBox").hide();jQuery("#spnPwdStrongTips").hide()}if(repasswordTrim==""){ddlogin.register.tool.switchInputStyle("error","txtRepeatPass","chk_repassok","repasserrormassage");jQuery("#repasserrormassage").html(ddlogin.lang_zh["2122"])}if(jQuery("#J_mobileV").is(":visible")&&mobile==""){ddlogin.register.tool.switchInputStyle("error","txt_mobile","chk_mobileok","mobileerrormassage");jQuery("#mobileerrormassage").html(ddlogin.lang_zh["2132"])}if(vcode==""){ddlogin.register.tool.switchInputStyle("error","txtVerifyCode","chk_vcodeok","vcodeerrormassage");jQuery("#vcodeerrormassage").html(ddlogin.lang_zh["2162"])}if(mobileCode==""){ddlogin.register.tool.switchInputStyle("error","J_MobileCode","chk_mobilecodeok","mobilecodeerrormassage");jQuery("#mobilecodeerrormassage").html(ddlogin.lang_zh["2141"])}ddlogin.register.tool.submitBtnAvailability("enable");return false}if(!ddlogin.register.vcodeIsOk){ddlogin.register.tool.switchInputStyle("error","txtVerifyCode","chk_vcodeok","vcodeerrormassage");jQuery("#vcodeerrormassage").html(ddlogin.lang_zh["2163"]);ddlogin.register.tool.submitBtnAvailability("enable");return false}if(ddlogin.register.usernameIsOk&&ddlogin.register.passwordIsOk&&ddlogin.register.rePasswordIsOk&&ddlogin.register.vcodeIsOk&&ddlogin.register.mobileCodeIsOk&&ddlogin.register.agreementIsOk&&((!jQuery("#J_mobileV").is(":visible"))||ddlogin.register.mobileIsOk)){ddlogin.register.register_submit();return true}else{ddlogin.register.tool.submitBtnAvailability("enable")}},register_submit:function(){var mobileParam="";var mobile=jQuery.trim(jQuery("#txt_mobile").val());var mobilevcode=jQuery.trim(jQuery("#J_MobileCode").val());var username=jQuery.trim(jQuery("#txtEmail").val());if(ddlogin.register.nowUsernameIsEmail&&ddlogin.register.usernameIsOk){mobileParam="&mobile="+mobile}jQuery.ajax({url:ddlogin.login_register_user_url,cache:false,data:"email="+username+"&password="+encodeURIComponent(jQuery("#txtRegPass").val())+mobileParam+"&mobilevcode="+mobilevcode,jsonp:"jsoncallback",dataType:"jsonp",success:function(data){ddlogin.register.tool.submitBtnAvailability("enable");var returnval=data.returnval;if(returnval=="1"){ddlogin.register.tool.switchInputStyle("error","txtEmail","chk_emailok","Emailerrormassage");jQuery("#Emailerrormassage").html(ddlogin.lang_zh["2104"].replace("{#Email#}",username));jQuery("#txtEmail").attr("errordata","1");ddlogin.register.usernameIsOk=false}else{if(returnval=="8"){ddlogin.register.tool.switchInputStyle("error","txtEmail","chk_emailok","Emailerrormassage");jQuery("#Emailerrormassage").html(ddlogin.lang_zh["2105"].replace("{#phone#}",username));jQuery("#txtEmail").attr("errordata","1");ddlogin.register.usernameIsOk=false;ddlogin.register.tool.showMobileAndUpdateVcode()}else{if(returnval=="2"||returnval=="7"){ddlogin.register.tool.switchInputStyle("error","txtEmail","chk_emailok","Emailerrormassage");jQuery("#txtEmail").attr("errordata","1");jQuery("#Emailerrormassage").html(ddlogin.lang_zh["2171"])}else{if(returnval=="4"||returnval=="5"){ddlogin.register.tool.switchInputStyle("error","J_MobileCode","chk_mobilecodeok","mobilecodeerrormassage");jQuery("#mobilecodeerrormassage").html(ddlogin.lang_zh["2148"])}else{if(returnval=="6"){ddlogin.register.show_register_success("phone","",data.mobile)}else{if(returnval=="3"){ddlogin.register.show_register_success("email",data.email,mobile)}}}}}}},error:function(){ddlogin.register.tool.submitBtnAvailability("enable")}})},show_register_success:function(registerType,email,phone){if(registerType=="email"&&email.length>30){email=email.substring(0,29)+"<br/>"+email.substring(29,email.length)}jQuery("#main_wind").html(ddlogin.windowregisteremailsuccesshtml.replace("{#Email#}",email).replace("{#Phone#}",phone));if(registerType=="email"){jQuery("#emailWrap").show()}ddlogin.returnShopTime=ddlogin.returnShopDuration;ddlogin.register.returnShop();jQuery("#register_succes").click(function(){ddlogin.action.closeloginwin();clearTimeout(ddlogin.regSucctimeoutrun);var url="https://"+login_checkscript_domin+"/CheckLogin.php?objid="+public_objid+"&time="+new Date().getTime()+"&posturl="+public_posturl;jQuery.getScript(url);if(typeof initHeaderOperate==="function"){initHeaderOperate()}})},returnShop:function(){ddlogin.returnShopTime--;var fen,smiao;fen=parseInt(ddlogin.returnShopTime/60);smiao=ddlogin.returnShopTime-(fen*60);var fenstr="";if(fen>0){fenstr=fen+"\u5206"}if(ddlogin.returnShopTime>0){jQuery("#J_returnShopTip").html(fenstr+smiao).show();clearTimeout(ddlogin.regSucctimeoutrun);ddlogin.regSucctimeoutrun=setTimeout(ddlogin.register.returnShop,1000)}else{ddlogin.action.closeloginwin();var url="https://"+login_checkscript_domin+"/CheckLogin.php?objid="+public_objid+"&time="+new Date().getTime()+"&posturl="+public_posturl;jQuery.getScript(url);if(typeof initHeaderOperate==="function"){initHeaderOperate()}}}},action:{closeloginwin:function(){jQuery("#login_background").hide();jQuery("#LoginWindow").hide()},showwindow:function(){jQuery("#login_background").show()},checklogin:function(loginurl){jQuery.getScript(loginurl)},show_vcode:function(img_id){jQuery("#imgVcode").attr("src",ddlogin.login_vcode_url+"?t="+new Date().getTime());jQuery("#chk_vcodeok").css("display","none");jQuery("#m_picture_vcodeok").css("display","none")},show_vcode_reg:function(img_id){jQuery("#imgVcode").attr("src",ddlogin.login_reg_vcode_url+"?t="+new Date().getTime());jQuery("#chk_vcodeok").hide()},regShowVcodeFun:function(img_id){ddlogin.register.vcodeIsOk=false;ddlogin.register.vcodeGenerateTiem=new Date().getTime();jQuery("#"+img_id).attr("src",ddlogin.login_reg_vcode_url+"?t="+ddlogin.register.vcodeGenerateTiem);jQuery("#txtVerifyCode").val("");ddlogin.register.tool.switchInputStyle("normal","txtVerifyCode","chk_vcodeok","vcodeerrormassage")}},callback:{callbackid:null,callbackfunc:null,callbackparameters:null},getCookie:function(name,type){var cookies=document.cookie.split(";");var temp;var find_name;if(type=="dangdang"||type=="ddoy"){if(type=="dangdang"){find_name="dangdang.com="}if(type=="ddoy"){find_name="ddoy="}var dangdangcookie="";for(i=0;i<cookies.length;i++){if(cookies[i].indexOf(find_name)>-1){dangdangcookie=cookies[i].split("&");for(x=0;x<dangdangcookie.length;x++){temp=dangdangcookie[x].split("=");if(jQuery.trim(temp[0])==name){return unescape(temp[1])}}}}}else{for(i=0;i<cookies.length;i++){if(cookies[i].indexOf("dangdang.com=")<0){temp=cookies[i].split("=");if(jQuery.trim(temp[0])==name){return unescape(temp[1])}}}}return""},c_obj:null,c_gotourl:null};var ddvcode={new_vcode_url:"https://"+show_vcode_domin+"/p/tmp_proxy.php",check_vcode_url:"https://"+show_vcode_domin+"/p/vcode_checker_new.php",show_vcode:function(parentImgVcodeId){if(document.getElementById(parentImgVcodeId)){document.getElementById(parentImgVcodeId).src=ddvcode.new_vcode_url+"?t="+new Date().getTime()}}};function callbackobj(){this.callbackfunction=null;this.callbacksetting=null;this.callbackparameters=null;this.callbackid=null}function showMsgBox(Id,parameters,TransferPath){var numargs=arguments.length;if(numargs>3){ddlogin.callback.callbackfunc=arguments[3];ddlogin.callback.callbackid=arguments[4];ddlogin.callback.callbackparameters=arguments[5]}public_objid=Id;if(TransferPath!=""){public_posturl=TransferPath+"?par="+parameters}else{public_posturl=""}if(numargs>6){if(arguments[6]=="shopping"){ddlogin.openchangepass=1}}var url=ddlogin.login_inintData_url+"?objid="+public_objid+"&time="+new Date().getTime()+"&posturl="+public_posturl+"&returnurl="+location.href;ddlogin.create_Jquert(url,function(){var loadjquery=true},"login_load_script")}function showMsgBox_comm(Id,parameters,TransferPath){var numargs=arguments.length;if(numargs>3){ddlogin.callback.callbackfunc=arguments[3];ddlogin.callback.callbackid=arguments[4];ddlogin.callback.callbackparameters=arguments[5]}public_objid=Id;if(TransferPath!=""){public_posturl=TransferPath+"?par="+parameters
}else{public_posturl=""}var url=ddlogin.login_inintData_url+"?background=1&objid="+public_objid+"&time="+new Date().getTime()+"&posturl="+public_posturl+"&returnurl="+location.href;ddlogin.create_Jquert(url,function(){var loadjquery=true},"login_load_script")}function ShowLoginWindow(vcodeisshow){if(vcodeisshow=="showvcode"){ddlogin.login_show_vcode=true}ddlogin.login_win_back_backcollor="#FFF";ddlogin.login_win_back_alpha=0;ddlogin.init(0)}function ShowLoginWindow_background(vcodeisshow){if(vcodeisshow=="showvcode"){ddlogin.login_show_vcode=true}ddlogin.login_win_back_backcollor="#000";ddlogin.login_win_back_alpha=60;ddlogin.init(1)}function Completeifrem(obj,gotourl){ddlogin.c_obj=obj;ddlogin.c_gotourl=gotourl;ddlogin.load_jquery(function(){Completeifrem_ok(ddlogin.c_obj,ddlogin.c_gotourl)})}function Completeifrem_ok(obj,gotourl){if(jQuery("#LoginWindow")[0]){jQuery("#LoginWindow").html(ifremHTML)}else{jQuery(document.body).append(ddlogin.window_login_div_html);jQuery("#LoginWindow").html(ifremHTML)}var toppx=parseInt((jQuery(window).height()-jQuery("#LoginWindow").height())/2)+jQuery(document).scrollTop();var leftpx=parseInt((jQuery(window).width()-jQuery("#LoginWindow").width())/2);jQuery("#LoginWindow").css({top:toppx+"px",left:leftpx+"px"});jQuery("#LoginWindow").show();if(gotourl==""){HideFramInLoginPage()}else{if(jQuery("#MsgBoxFrame")[0]){jQuery("#MsgBoxFrame").attr("src",gotourl)}var mb=ddlogin.callback;if(mb){if("function"==typeof mb.callbackfunc){mb.callbackfunc(mb.callbackid,mb.callbackparameters)}}}}function sign_submit(){var url="https://"+login_checkscript_domin+"/signinscript.php?logintype="+jQuery("#user_login_type").val()+"&username="+jQuery("#txtUsername").val()+"&password="+encodeURIComponent(jQuery("#txtPassword").val())+"&verifycode="+escape(jQuery("#txtVerifyCode").val())+"&auth_human_id="+ddlogin.auth_human_id+"&ispersist="+jQuery("#ispersist").val()+"&objid="+public_objid+"&posturl="+public_posturl+"&t="+new Date().getTime()+"&shopping="+ddlogin.openchangepass;jQuery.getScript(url)}function changejishi(){ddlogin.register.miao--;var fen,smiao;fen=parseInt(ddlogin.register.miao/60);smiao=ddlogin.register.miao-(fen*60);var fenstr="";if(fen>0){fenstr=fen+"\u5206"}if(ddlogin.register.miao>0){jQuery("#J_countDownTip").html(fenstr+smiao+"").show();jQuery("#sendMobileCode").hide();clearTimeout(ddlogin.regMoblieCodetimeoutrun);ddlogin.regMoblieCodetimeoutrun=setTimeout(changejishi,1000)}else{jQuery("#sendMobileCode").show();jQuery("#J_countDownTip").hide();jQuery("#mobilecodeerrormassage").html("")}}function echo_error_message(code){switch(code){case 1:ddlogin.login.tool.switchInputStyle("error","username_div","user_mindstyle");jQuery("#liDivErrorMessage").show().html(ddlogin.lang_zh["1102"]);jQuery("#txtPassword").val("");jQuery("#winlogin_vcode").show();ddlogin.login_show_vcode=true;ddlogin.action.loginShowVcodeFun("imgVcode");ddlogin.login.userType.hideUsertypeAndSwitchBtn();jQuery("#txtVerifyCode").blur();break;case 2:ddlogin.login.tool.switchInputStyle("error","username_div","user_mindstyle");jQuery("#liDivErrorMessage").show().html(ddlogin.lang_zh["1102"]);jQuery("#txtUsername").attr("errordata","2");ddlogin.login.tool.switchInputStyle("error","password_div","pass_mindstyle");jQuery("#txtPassword").val("");jQuery("#txtPassword").attr("errordata","1");ddlogin.login.userType.hideUsertypeAndSwitchBtn();jQuery("#selusertypemail").attr("checked",false);jQuery("#selusertypemobile").attr("checked",false);if(jQuery("#winlogin_vcode").is(":visible")){ddlogin.action.loginShowVcodeFun("imgVcode")}break;case 3:jQuery("#winlogin_vcode").show();ddlogin.login.tool.switchInputStyle("error","vcode_model","vcode_mindstyle");jQuery("#login_vcode_error").css("display","block");jQuery("#login_vcode_error").html(ddlogin.lang_zh["1304"]);jQuery("#codeReplacer").css("display","none");jQuery("#txtVerifyCode").attr("errordata","1");ddlogin.login_show_vcode=true;ddlogin.action.loginShowVcodeFun("imgVcode");break;case 4:ddlogin.login.tool.switchInputStyle("error","vcode_model","vcode_mindstyle");jQuery("#login_vcode_error").css("display","block").html(ddlogin.lang_zh["1303"]);jQuery("#codeCapslock").css("display","none");ddlogin.action.loginShowVcodeFun("imgVcode");break;case 5:jQuery("#liDivErrorMessage").show();if(ddlogin.reg.emailReg.test(userName)||ddlogin.reg.mobileReg.test(userName)){jQuery("#liDivErrorMessage").html(ddlogin.lang_zh["1103"])}else{jQuery("#liDivErrorMessage").html(ddlogin.lang_zh["1103"])}break;case 6:ddlogin.login.tool.switchInputStyle("error","vcode_model","vcode_mindstyle");jQuery("#login_vcode_error").css("display","block");jQuery("#login_vcode_error").html(ddlogin.lang_zh["1303"]);jQuery("#codeReplacer").css("display","none");jQuery("#txtVerifyCode").attr("errordata","2");break;case 7:jQuery("#login_password_error").show().html(ddlogin.lang_zh["1203"]);break;case 8:ddlogin.login.userType.hideUsertypeAndSwitchBtn();jQuery("#txtUsername").attr("errordata","0");ddlogin.login.tool.switchInputStyle("normal","username_div","user_mindstyle");jQuery("#liDivErrorMessage").show().html(ddlogin.lang_zh["1101"]);jQuery("#usernameCapslock").css("display","none");break;case 9:ddlogin.register.tool.switchInputStyle("normal","J_MobileCode","chk_mobilecodeok","mobilecodeerrormassage");jQuery("#mobilecodeerrormassage").addClass("wrong").html(ddlogin.lang_zh["2148"]);jQuery("#mobile_vcode").attr("errordata","1");break;case 10:jQuery("#reg_mobilevcode_div").css("display","");ddlogin.login_show_vcode=true;jQuery("#mobile_pictureverify_box").addClass("relative_box");jQuery("#m_picture_vcodeerrormassage").removeClass("overview").addClass("wrong");jQuery("#m_picture_vcodeerrormassage").html("\u4e3a\u4e86\u4f60\u7684\u8d26\u6237\u5b89\u5168,\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801");jQuery("#txt_picture_vcode").attr("errordata","1");jQuery("#txt_picture_vcode").removeClass("focus").addClass("input_error");jQuery("#m_picture_vcodeerrormassage").css("display","");jQuery("#m_picture_vcodeok").hide();ddlogin.action.show_vcode_reg("imgVcode");break;case 11:if(jQuery("#txtUsername").attr("errordata")!="3"){jQuery("#username_div").removeClass().addClass("username");jQuery("#liDivErrorMessage").hide();jQuery("#usernameCapslock").hide()}jQuery("#txtUsername").attr("errordata","0");break;case 12:ddlogin.login.tool.switchInputStyle("normal","password_div","pass_mindstyle");jQuery("#login_password_error").css("display","block").html(ddlogin.lang_zh["1201"]);jQuery("#passwordCapslock").css("display","none");break;case 13:jQuery("#password_div").removeClass().addClass("password");jQuery("#login_password_error").hide();jQuery("#passwordCapslock").hide();break;case 14:var verifyCodeErrorEata=jQuery("#txtVerifyCode").attr("errordata");ddlogin.login.tool.switchInputStyle("normal","vcode_model","vcode_mindstyle");jQuery("#login_vcode_error").css("display","block").html(ddlogin.lang_zh["1301"]);jQuery("#codeCapslock").css("display","none");if(verifyCodeErrorEata=="2"){ddlogin.action.loginShowVcodeFun("imgVcode")}jQuery("#login_vcode_error").attr("errordata","0");break;case 15:jQuery("#vcode_model").removeClass().addClass("code");jQuery("#login_vcode_error").css("display","none");jQuery("#codeCapslock").css("display","none");jQuery("#txtVerifyCode").attr("errordata","0");break;case 16:ddlogin.login.tool.switchInputStyle("error","vcode_model","vcode_mindstyle");jQuery("#login_vcode_error").css("display","block");jQuery("#login_vcode_error").html(ddlogin.lang_zh["1302"]);jQuery("#codeReplacer").css("display","block");jQuery("#txtVerifyCode").attr("errordata","1");break;case 17:window.open("https://"+login_checkscript_domin+"/RegisterOne.php");ddlogin.action.closeloginwin();break;case 18:ddlogin.register.tool.switchInputStyle("normal","J_MobileCode","chk_mobilecodeok","mobilecodeerrormassage");jQuery("#mobilecodeerrormassage").addClass("wrong").html(ddlogin.lang_zh["2145"]);jQuery("#mobile_vcode").attr("errordata","1");break;case 19:ddlogin.register.tool.switchInputStyle("error","txtEmail","chk_emailok","Emailerrormassage");jQuery("#txtEmail").attr("errordata","1");jQuery("#Emailerrormassage").html(ddlogin.lang_zh["2171"]);break;case 20:ddlogin.register.tool.switchInputStyle("error","txtVerifyCode","chk_vcodeok","vcodeerrormassage");jQuery("#txtVerifyCode").attr("errordata","1");jQuery("#chk_vcodeok").hide();jQuery("#vcodeerrormassage").html(ddlogin.lang_zh["2172"]);ddlogin.action.regShowVcodeFun("imgVcode");break;default:break}}function HideFramInLoginPage(){ddlogin.action.closeloginwin();var mb=ddlogin.callback;if(mb){if("function"==typeof mb.callbackfunc){mb.callbackfunc(mb.callbackid,mb.callbackparameters)}}}function hideMsgBox(){ddlogin.action.closeloginwin()}function BodyInit(){resizeMsgBox()}function resizeMsgBox(){var wp=window.parent;var cf=wp.document.getElementById("MsgBoxFrame");var documentframe=null;cf.style.height=null;cf.style.width=null;if(jQuery.browser.msie){documentframe=window.frames["MsgBoxFrame"].document}else{for(i=0;i<window.frames.length;i++){try{if(window.frames[i].name=="MsgBoxFrame"){documentframe=window.frames[i].document}}catch(e){}}}cf.style.width=documentframe.documentElement.scrollWidth+20+"px";if(documentframe.body.scrollHeight==0){cf.style.height=documentframe.documentElement.scrollWidth+20+"px"}else{cf.style.height=documentframe.documentElement.scrollHeight+20+"px"}}function Create_jQuery_extend(){jQuery.fn.extend({textposition:function(value){var elem=this[0];if(elem&&(elem.tagName=="TEXTAREA"||elem.type.toLowerCase()=="text")){if(jQuery.browser.msie){var rng;if(elem.tagName=="TEXTAREA"){rng=event.srcElement.createTextRange();rng.moveToPoint(event.x,event.y)}else{rng=document.selection.createRange()}if(value===undefined){var txt=this.val();rng.moveStart("character",-txt.length);return rng.text.length}else{if(typeof value==="number"){var index=this.textposition();index>value?(rng.moveEnd("character",value-index)):(rng.moveStart("character",value-index));rng.select()}}}else{if(value===undefined){return elem.selectionStart}else{if(typeof value==="number"){elem.selectionEnd=value;elem.selectionStart=value}}}}else{if(value===undefined){return undefined}}}})};